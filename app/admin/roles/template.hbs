{{#edit-panel editPanelProps=editPanelProps}}
  <div class="panel panel-primary">
    <div class="panel-body">
      {{#em-form model=this submitButton=false as |form|}}
        <div class="form-group has-success">
          <label class="control-label">{{t 'labels.role'}}</label>
          <select onchange={{action "selectRole" value="target"}} class="form-control role-select">
            <option disabled selected={{is-not selectedRole}}>
            </option>
            {{#each filteredRoles as |userRole|}}
              <option value="{{userRole.id}}"
                      selected={{eq selectedRole userRole.name}}>
                {{userRole.name}}
              </option>
            {{/each}}
          </select>
        </div>
        {{em-input property="currentRole" label=(t 'labels.name') class="form-input-group required test-role-name"}}
        {{#each capabilitySections as |capabilitySection|}}
          <div class="detail-section">
            <div class="panel-heading">
              <h3 class="panel-title">
                {{capabilitySection.name}}
              </h3>
            </div>
            <div class="detail-section-content">
              {{#each capabilitySection.capabilities as |capability|}}
                {{form.checkbox label=capability.name property=capability.key class=(concat 'checkbox' ' checkbox-' capability.key)}}
              {{/each}}
            </div>
          </div>
        {{/each}}
      {{/em-form}}
    </div>
  </div>
{{/edit-panel}}
