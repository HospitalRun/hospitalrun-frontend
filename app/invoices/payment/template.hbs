{{#modal-dialog
    isUpdateDisabled=isUpdateDisabled
    title=title
    updateButtonAction=updateButtonAction
    updateButtonText=updateButtonText
    updateButtonClass='update-payment-btn'}}
  {{#em-form model=model submitButton=false }}
    {{#if model.isNew}}
      {{#if selectPatient}}
        {{patient-typeahead property="patientTypeAhead" label=(t 'models.invoice.labels.patient') content=patientList selection=selectedPatient class="required payment-patient"}}
      {{else}}
        <div class="form-group">
          <label>{{t 'models.invoice.labels.patient'}}</label>
          <p class="form-control-static">{{model.invoice.patient.displayName}}</p>
        </div>
      {{/if}}
    {{/if}}
    {{number-input property="amount" label=(t 'models.payment.labels.amount') class="required payment-amount"}}
    {{date-picker property="datePaid" label=(t 'models.payment.labels.datePaid') maxDate="now" class="required"}}
    {{select-or-typeahead property="expenseAccount" label=(t 'models.payment.labels.expenseAccount') list=expenseAccountList selection=model.expenseAccount }}
    {{em-text property="notes" label=(t 'models.payment.labels.notes')}}
  {{/em-form}}
{{/modal-dialog}}
